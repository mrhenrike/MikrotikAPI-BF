# üîê MikrotikAPI-BF v2.1

[![Python Version](https://img.shields.io/badge/python-3.8%20%7C%203.9%20%7C%203.10%20%7C%203.11%20%7C%203.12-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-2.1-red.svg)](CHANGELOG.md)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)](README.md)

**Ferramenta Avan√ßada de Pentesting para Dispositivos Mikrotik RouterOS**

Uma ferramenta profissional de seguran√ßa desenvolvida especificamente para testes de penetra√ß√£o em equipamentos Mikrotik Cloud Hosted Router (CHR) e dispositivos RouterOS. Oferece capacidades completas de autentica√ß√£o, valida√ß√£o p√≥s-login e sistema de sess√£o persistente.

## ‚ú® Principais Caracter√≠sticas

### üîê **Autentica√ß√£o Dupla**
- **API RouterOS** (porta 8728) - Protocolo bin√°rio propriet√°rio
- **REST-API** (portas 80/443) - HTTP/HTTPS com Basic Auth
- Suporte completo a SSL/TLS

### üõ°Ô∏è **Valida√ß√£o P√≥s-Login**
- **FTP** (porta 21) - Autentica√ß√£o e acesso
- **SSH** (porta 22) - Conex√£o segura
- **Telnet** (porta 23) - Acesso remoto
- Portas customizadas suportadas

### üîÑ **Sistema de Sess√£o Persistente**
- **Resume autom√°tico** - Continua de onde parou
- **Preven√ß√£o de duplicatas** - N√£o testa novamente se j√° completou
- **Tempo estimado** - Calcula ETA baseado em tentativas anteriores
- **Gerenciamento de sess√µes** - Lista, visualiza e gerencia sess√µes

### ü•∑ **Stealth Mode**
- **Delays Fibonacci** (1, 2, 3, 5, 8, 13, 21, 34, 55 segundos)
- **Rota√ß√£o de User-Agent** - Evita detec√ß√£o
- **Headers aleat√≥rios** - Simula navegadores reais
- **Jitter aplicado** - Varia√ß√£o temporal

### üîç **Fingerprinting Avan√ßado**
- **Identifica√ß√£o de dispositivo** - Modelo, vers√£o RouterOS
- **Portas abertas** - Scan autom√°tico de servi√ßos
- **Vulnerabilidades** - Detec√ß√£o de riscos conhecidos
- **Score de risco** (0-10) - Avalia√ß√£o de seguran√ßa

### üìä **Progress Tracking**
- **Barra de progresso visual** - Acompanhamento em tempo real
- **ETA (Estimated Time)** - Tempo estimado de conclus√£o
- **Velocidade de tentativas** - Tentativas por segundo
- **Contador de sucessos** - Credenciais encontradas

### üìã **Exporta√ß√£o Completa**
- **JSON** - Estrutura completa de dados
- **CSV** - Planilhas para an√°lise
- **XML** - Integra√ß√£o com ferramentas
- **TXT** - Relat√≥rios leg√≠veis

### üéØ **Smart Wordlists**
- **Gera√ß√£o inteligente** - Baseada em informa√ß√µes do target
- **Wordlists brasileiras** - Espec√≠ficas para o mercado BR
- **Combina√ß√µes customizadas** - User:pass otimizadas
- **Estat√≠sticas** - An√°lise de efetividade

## üöÄ Instala√ß√£o R√°pida

### Pr√©-requisitos
- Python 3.8 - 3.12 (recomendado 3.12.x)
- Sistema: Windows, Linux, macOS

### Instala√ß√£o Autom√°tica
```bash
# Clone o reposit√≥rio
git clone https://github.com/mrhenrike/MikrotikAPI-BF.git
cd MikrotikAPI-BF

# Execute o script de instala√ß√£o
./install-v2.1.sh  # Linux/macOS
# ou
.\install-v2.1.ps1  # Windows

# Teste a instala√ß√£o
python mikrotikapi-bf-v2.1.py --help
```

### Instala√ß√£o Manual
```bash
# Criar ambiente virtual
python -m venv venv
source venv/bin/activate  # Linux/macOS
# ou
.\venv\Scripts\Activate.ps1  # Windows

# Instalar depend√™ncias
pip install -r requirements.txt
```

## üéÆ Uso B√°sico

### Comando Simples
```bash
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -U admin -P 123456
```

### Com Wordlists
```bash
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u wordlists/users.lst -p wordlists/passwords.lst
```

### Com Valida√ß√£o de Servi√ßos
```bash
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst --validate ftp,ssh,telnet
```

### Pentest Completo
```bash
python mikrotikapi-bf-v2.1.py \
  -t 192.168.1.1 \
  -u wordlists/users.lst \
  -p wordlists/passwords.lst \
  --validate ftp,ssh,telnet \
  --stealth \
  --fingerprint \
  --progress \
  --export-all \
  --threads 5 \
  -vv
```

## üîß Recursos Avan√ßados

### Sistema de Sess√£o
```bash
# Listar sess√µes
python mikrotikapi-bf-v2.1.py --list-sessions

# Continuar sess√£o existente
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 --resume

# For√ßar nova sess√£o
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 --force

# Ver informa√ß√µes de sess√£o
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 --session-info
```

### Stealth Mode
```bash
# Ativar stealth mode
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst --stealth
```

**Caracter√≠sticas:**
- Delays Fibonacci (1, 2, 3, 5, 8, 13, 21, 34, 55 segundos)
- Rota√ß√£o de User-Agent
- Headers aleat√≥rios
- Jitter aplicado

### Fingerprinting
```bash
# Fingerprinting do dispositivo
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 --fingerprint
```

**Informa√ß√µes coletadas:**
- Vers√£o do RouterOS
- Modelo do dispositivo
- Portas abertas
- Servi√ßos detectados
- Vulnerabilidades conhecidas
- Score de risco (0-10)

### Exporta√ß√£o
```bash
# Exportar em todos os formatos
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst --export-all

# Exportar formatos espec√≠ficos
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst --export json,csv

# Especificar diret√≥rio de sa√≠da
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst --export-all --export-dir reports/
```

## üìä Exemplo de Sa√≠da

```
[INFO] Starting MikrotikAPI-BF v2.1
[INFO] Target: 192.168.1.1
[INFO] Loading wordlist: 25 combinations
[INFO] Starting brute force with 5 threads
[FINGERPRINT] Target: 192.168.1.1
[FINGERPRINT] RouterOS Version: 7.8
[FINGERPRINT] Model: RB750
[FINGERPRINT] Risk Score: 7.5/10
[SUCCESS] [API] admin:123456
[SUCCESS] [REST] admin:123456
[VALIDATION] FTP login successful for admin:123456
[VALIDATION] SSH login successful for admin:123456
[VALIDATION] TELNET login successful for admin:123456
[INFO] Found 1 valid credential(s)
[INFO] Exporting results to results/
[INFO] Session completed successfully
```

## üõ†Ô∏è Servi√ßos Suportados

### Autentica√ß√£o Principal
| Servi√ßo | Porta | Protocolo | Descri√ß√£o |
|---------|-------|------------|-----------|
| **API** | 8728 | Bin√°rio | RouterOS API nativo |
| **REST-API** | 80/443 | HTTP/HTTPS | REST API com Basic Auth |

### Valida√ß√£o P√≥s-Login
| Servi√ßo | Porta | Protocolo | Status |
|---------|-------|-----------|--------|
| **FTP** | 21 | FTP | ‚úÖ Funcional |
| **SSH** | 22 | SSH | ‚úÖ Funcional |
| **Telnet** | 23 | Telnet | ‚úÖ Funcional |

### Servi√ßos Removidos
| Servi√ßo | Motivo |
|---------|--------|
| **Winbox** | Protocolo propriet√°rio n√£o implement√°vel |
| **Web Console** | WebFig retorna erro 406 para todos os requests |

## üìã Par√¢metros Principais

### B√°sicos
| Par√¢metro | Descri√ß√£o | Padr√£o |
|-----------|-----------|--------|
| `-t, --target` | IP do dispositivo Mikrotik | Obrigat√≥rio |
| `-u, --userlist` | Arquivo com usu√°rios | - |
| `-p, --passlist` | Arquivo com senhas | - |
| `-d, --dictionary` | Arquivo combo (user:pass) | - |
| `--threads` | N√∫mero de threads (max 15) | 2 |
| `-s, --seconds` | Delay entre tentativas | 5 |

### Avan√ßados
| Par√¢metro | Descri√ß√£o | Padr√£o |
|-----------|-----------|--------|
| `--api-port` | Porta da API | 8728 |
| `--http-port` | Porta HTTP | 80 |
| `--ssl` | Usar HTTPS | False |
| `--ssl-port` | Porta HTTPS | 443 |
| `--proxy` | URL do proxy | - |
| `--max-retries` | Tentativas de retry | 1 |

### Sess√£o
| Par√¢metro | Descri√ß√£o |
|-----------|-----------|
| `--resume` | Continuar sess√£o existente |
| `--force` | For√ßar nova sess√£o |
| `--list-sessions` | Listar sess√µes dispon√≠veis |
| `--session-info` | Mostrar informa√ß√µes da sess√£o |

### Verbosidade
| N√≠vel | Par√¢metro | Descri√ß√£o |
|-------|-----------|-----------|
| **Normal** | - | Apenas resultados |
| **Verbose** | `-v` | Mostra tentativas falhadas |
| **Debug** | `-vv` | Log completo com debug |

## üìÅ Estrutura do Projeto

```
MikrotikAPI-BF/
‚îú‚îÄ‚îÄ mikrotikapi-bf-v2.1.py      # Script principal
‚îú‚îÄ‚îÄ _api.py                      # Comunica√ß√£o RouterOS API
‚îú‚îÄ‚îÄ _log.py                      # Sistema de logging
‚îú‚îÄ‚îÄ _session.py                  # Gerenciamento de sess√µes
‚îú‚îÄ‚îÄ _export.py                   # Exporta√ß√£o de resultados
‚îú‚îÄ‚îÄ _progress.py                 # Progress tracking
‚îú‚îÄ‚îÄ _stealth.py                  # Stealth mode
‚îú‚îÄ‚îÄ _fingerprint.py              # Fingerprinting
‚îú‚îÄ‚îÄ _wordlists.py                # Smart wordlists
‚îú‚îÄ‚îÄ wordlists/                   # Wordlists brasileiras
‚îú‚îÄ‚îÄ results/                     # Resultados exportados
‚îú‚îÄ‚îÄ sessions/                    # Sess√µes persistentes
‚îú‚îÄ‚îÄ docs/                        # Documenta√ß√£o completa
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ API_REFERENCE.md
‚îÇ   ‚îú‚îÄ‚îÄ INSTALLATION.md
‚îÇ   ‚îú‚îÄ‚îÄ USAGE_EXAMPLES.md
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ requirements.txt             # Depend√™ncias Python
‚îú‚îÄ‚îÄ install-v2.1.sh             # Script de instala√ß√£o Linux/macOS
‚îú‚îÄ‚îÄ install-v2.1.ps1             # Script de instala√ß√£o Windows
‚îî‚îÄ‚îÄ README.md                    # Este arquivo
```

## üîß Troubleshooting

### Problemas Comuns

#### 1. Erro de Python Version
```
[WARN] You are using Python 3.13.5, which is newer than supported
```
**Solu√ß√£o**: Use Python 3.12.x ou aceite continuar com `y`

#### 2. M√≥dulos N√£o Encontrados
```
ModuleNotFoundError: No module named '_api'
```
**Solu√ß√£o**: Verifique se todos os arquivos est√£o no diret√≥rio correto

#### 3. Timeout de Conex√£o
```
Connection timeout
```
**Solu√ß√£o**: Verifique conectividade de rede e firewall

#### 4. Erro de Permiss√£o
```
Permission denied
```
**Solu√ß√£o**: Execute com privil√©gios adequados

### Logs de Debug
```bash
# Ativar debug completo
python mikrotikapi-bf-v2.1.py -t 192.168.1.1 -u users.lst -p passwords.lst -vv

# Verificar sess√µes
python mikrotikapi-bf-v2.1.py --list-sessions

# Limpar sess√µes antigas
rm -rf sessions/*.json
```

## üìö Documenta√ß√£o Completa

- **[üìñ Documenta√ß√£o Completa](docs/README.md)** - Guia detalhado
- **[üîß Refer√™ncia da API](docs/API_REFERENCE.md)** - Documenta√ß√£o t√©cnica
- **[üöÄ Guia de Instala√ß√£o](docs/INSTALLATION.md)** - Instala√ß√£o passo a passo
- **[üìö Exemplos de Uso](docs/USAGE_EXAMPLES.md)** - Exemplos pr√°ticos
- **[üåê Documenta√ß√£o HTML](docs/index.html)** - Vers√£o web interativa

## üÜï Changelog v2.1

### ‚ú® Novos Recursos
- **Sistema de sess√£o persistente** - Resume autom√°tico como John The Ripper
- **Stealth mode** - Delays Fibonacci e rota√ß√£o de User-Agent
- **Fingerprinting avan√ßado** - Identifica√ß√£o completa de dispositivos
- **Smart wordlists** - Gera√ß√£o inteligente de combina√ß√µes
- **Progress tracking** - Barra de progresso com ETA
- **Exporta√ß√£o m√∫ltipla** - JSON, CSV, XML, TXT
- **Valida√ß√£o p√≥s-login** - FTP, SSH, Telnet

### üîß Melhorias
- **C√≥digo modularizado** - Arquitetura limpa e extens√≠vel
- **Tratamento de erros** - Robusto e informativo
- **Performance otimizada** - Threading e connection pooling
- **Documenta√ß√£o completa** - Guias detalhados e exemplos

### üóëÔ∏è Removido
- **Suporte a Winbox** - Protocolo propriet√°rio n√£o implement√°vel
- **Suporte a Web Console** - WebFig retorna erro 406 para todos os requests

## üìû Suporte e Contato

- **GitHub**: [github.com/mrhenrike/MikrotikAPI-BF](https://github.com/mrhenrike/MikrotikAPI-BF)
- **LinkedIn**: [linkedin.com/in/mrhenrike](https://www.linkedin.com/in/mrhenrike)
- **X (Twitter)**: [@mrhenrike](https://x.com/mrhenrike)
- **Issues**: [GitHub Issues](https://github.com/mrhenrike/MikrotikAPI-BF/issues)

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **MIT License** - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ‚ö†Ô∏è Aviso Legal

Esta ferramenta √© destinada apenas para:

- ‚úÖ **Testes de seguran√ßa autorizados**
- ‚úÖ **Auditorias de seguran√ßa**
- ‚úÖ **Pesquisa em seguran√ßa**
- ‚úÖ **Educa√ß√£o em seguran√ßa**

**‚ùå N√ÉO use em sistemas que voc√™ n√£o possui ou n√£o tem autoriza√ß√£o expl√≠cita para testar.**

## üéØ Roadmap Futuro

- [ ] **Integra√ß√£o com Nmap** - Scan autom√°tico de portas
- [ ] **Integra√ß√£o com Metasploit** - Exploits autom√°ticos
- [ ] **Integra√ß√£o com Nuclei** - Detec√ß√£o de vulnerabilidades
- [ ] **Burp Extension** - Integra√ß√£o com Burp Suite
- [ ] **GUI Interface** - Interface gr√°fica para usu√°rios
- [ ] **Machine Learning** - Otimiza√ß√£o inteligente de wordlists
- [ ] **Cloud Integration** - Suporte a AWS, Azure, GCP
- [ ] **Mobile App** - Aplicativo m√≥vel para pentesters

---

**Desenvolvido com ‚ù§Ô∏è por [Andre Henrique](https://www.linkedin.com/in/mrhenrike)**

*Ferramenta profissional para profissionais de seguran√ßa*